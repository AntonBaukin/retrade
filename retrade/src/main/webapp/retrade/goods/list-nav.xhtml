<?xml version = '1.0' encoding = 'UTF-8'?>

<ui:component xmlns:ui = 'http://java.sun.com/jsf/facelets'
  xmlns:c  = 'http://java.sun.com/jsp/jstl/core'
  xmlns:f  = 'http://java.sun.com/jsf/core'
  xmlns:z  = 'uri:extjs.jsf.java.net'>

<c:set var = "v" scope = "request" value = "${facesGoodsView}"/>

${rootView.forceSecure('view: goods')}
${v.checkModelRequestedWithRedirect}

<ui:decorate template = '/resources/.view-modes/body.xhtml'
   xmlns    = 'http://www.w3.org/1999/xhtml'
   xmlns:h  = 'http://java.sun.com/jsf/html'
   xmlns:x  = 'http://java.sun.com/jsf/composite/extjsf'>

  <ui:define name = 'page-body'>

  <x:desktop-panel coid = "${z:vid(v, 'documents-root')}"
    position = "#{rootView.extjsPosition}">

    <f:facet name = "extjs-props">
      title: 'Товары и услуги', layout: 'fit'
    </f:facet>

    <!-- [toolbar -->

    <f:facet name = "toolbar-props">
      xtype: 'panel', bodyPadding: extjsf.pts(0, 2, 0, 2),
      layout: {type: 'hbox', align: 'middle'},
      bodyCls: 'retrade-toolbar-inline-panel'
    </f:facet>

    <f:facet name = "toolbar">

      <ui:decorate template = '.list-toolbar.xhtml'
        xmlns = 'http://www.w3.org/1999/xhtml'>

        <ui:param name = "toggleTableView" value = "retrade-tree-list"/>
      </ui:decorate>
    </f:facet>

    <!-- toolbar] -->


    <!-- [the goods grid] -->
    <ui:decorate template = '.list-grid.xhtml'
        xmlns = 'http://www.w3.org/1999/xhtml'>

      <ui:param name = "columnModel" value = "GoodUnitViewShort"/>
    </ui:decorate>
  </x:desktop-panel>
</ui:define>
</ui:decorate>

<ui:decorate template = '/resources/.view-modes/body_post.xhtml'
   xmlns    = 'http://extjs.jsf.java.net/response'
   xmlns:ui = 'http://java.sun.com/jsf/facelets'>

  <ui:define name = 'validation'>
    <validation success = "true"/>
  </ui:define>
</ui:decorate>
</ui:component>